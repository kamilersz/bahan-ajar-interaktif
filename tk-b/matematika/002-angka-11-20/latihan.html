<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Latihan Angka 11-20 - TK-B Matematika</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap');
        body { font-family: 'Nunito', sans-serif; }
        .option-btn { transition: all 0.3s ease; }
        .option-btn:hover { transform: scale(1.05); }
        @keyframes celebrate { 0% { transform: scale(1); } 50% { transform: scale(1.1); } 100% { transform: scale(1); } }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-10px); } 75% { transform: translateX(10px); } }
        .correct-answer { animation: celebrate 0.6s ease-out; }
        .wrong-answer { animation: shake 0.5s ease-in-out; }
        .confetti { position: fixed; width: 10px; height: 10px; animation: fall 3s linear forwards; }
        @keyframes fall { 0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
    </style>
</head>
<body class="bg-gradient-to-br from-green-100 via-teal-50 to-blue-100 min-h-screen">
    <div x-data="latihanAngka()">
        <header class="bg-gradient-to-r from-teal-400 via-green-400 to-blue-400 text-white py-6 shadow-lg">
            <div class="container mx-auto px-4 text-center">
                <h1 class="text-3xl md:text-4xl font-bold mb-2">ğŸ® Latihan Angka 11-20</h1>
                <p class="text-lg">Ayo bermain dengan angka yang lebih besar!</p>
                <div class="mt-3 bg-white/20 rounded-full px-6 py-2 inline-block">
                    <span class="font-bold">Skor: </span>
                    <span x-text="score" class="font-bold text-yellow-300 text-2xl"></span>
                </div>
            </div>
        </header>

        <main class="container mx-auto px-4 py-8">
            <div class="mb-8">
                <div class="bg-white rounded-full h-6 shadow-lg overflow-hidden">
                    <div class="bg-gradient-to-r from-teal-400 to-green-500 h-full transition-all duration-500 rounded-full flex items-center justify-center text-white font-bold text-sm"
                         :style="'width: ' + ((currentQuestion / questions.length) * 100) + '%'">
                        <span x-text="currentQuestion + '/' + questions.length"></span>
                    </div>
                </div>
            </div>

            <div x-show="!finished" class="bg-white rounded-3xl shadow-2xl p-8 max-w-3xl mx-auto">
                <!-- Counting Question -->
                <div x-show="questions[currentQuestionIndex].type === 'count'">
                    <h2 class="text-2xl font-bold text-teal-700 mb-6 text-center">ğŸ”¢ Berapa jumlah benda ini?</h2>
                    <div class="flex justify-center mb-6">
                        <div class="text-6xl">
                            <template x-for="i in Array(questions[currentQuestionIndex].count).fill(0)">
                                <span x-text="questions[currentQuestionIndex].emoji" class="inline-block mx-1"></span>
                            </template>
                        </div>
                    </div>
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                        <template x-for="option in questions[currentQuestionIndex].options">
                            <button @click="checkAnswer(option)" class="option-btn bg-gradient-to-br from-blue-400 to-blue-600 text-white font-bold py-6 rounded-2xl text-4xl shadow-lg">
                                <span x-text="option"></span>
                            </button>
                        </template>
                    </div>
                </div>

                <!-- Match Question -->
                <div x-show="questions[currentQuestionIndex].type === 'match'">
                    <h2 class="text-2xl font-bold text-teal-700 mb-6 text-center">ğŸ¯ Pilih jumlah yang sesuai!</h2>
                    <div class="flex justify-center mb-6">
                        <div class="text-9xl font-bold text-teal-600" x-text="questions[currentQuestionIndex].number"></div>
                    </div>
                    <div class="grid grid-cols-2 gap-4">
                        <template x-for="option in questions[currentQuestionIndex].options">
                            <button @click="checkAnswer(option.count)" class="option-btn bg-gradient-to-br from-green-400 to-teal-500 text-white font-bold py-4 rounded-2xl shadow-lg">
                                <div class="text-3xl mb-2" x-text="option.emoji"></div>
                                <div x-text="option.count + ' buah'"></div>
                            </button>
                        </template>
                    </div>
                </div>

                <!-- Sequence Question -->
                <div x-show="questions[currentQuestionIndex].type === 'sequence'">
                    <h2 class="text-2xl font-bold text-teal-700 mb-6 text-center">ğŸ”£ Lengkapi urutan!</h2>
                    <div class="flex justify-center items-center gap-4 mb-8 text-5xl">
                        <div class="bg-blue-100 px-6 py-4 rounded-xl" x-text="questions[currentQuestionIndex].sequence[0]"></div>
                        <div class="text-blue-600">â†’</div>
                        <div class="bg-blue-100 px-6 py-4 rounded-xl" x-text="questions[currentQuestionIndex].sequence[1]"></div>
                        <div class="text-blue-600">â†’</div>
                        <div class="bg-yellow-100 px-6 py-4 rounded-xl border-4 border-yellow-400 border-dashed animate-pulse">?</div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 max-w-md mx-auto">
                        <template x-for="option in questions[currentQuestionIndex].options">
                            <button @click="checkAnswer(option)" class="option-btn bg-gradient-to-br from-purple-400 to-pink-500 text-white font-bold py-4 rounded-xl text-3xl shadow-lg">
                                <span x-text="option"></span>
                            </button>
                        </template>
                    </div>
                </div>

                <!-- Decompose Question -->
                <div x-show="questions[currentQuestionIndex].type === 'decompose'">
                    <h2 class="text-2xl font-bold text-teal-700 mb-6 text-center">â• Berapa 10 + ...?</h2>
                    <div class="flex justify-center mb-6">
                        <div class="text-7xl font-bold text-purple-600">
                            <span x-text="questions[currentQuestionIndex].number"></span> = 10 + ?
                        </div>
                    </div>
                    <div class="grid grid-cols-3 gap-4 max-w-md mx-auto">
                        <template x-for="option in questions[currentQuestionIndex].options">
                            <button @click="checkAnswer(option)" class="option-btn bg-gradient-to-br from-orange-400 to-red-500 text-white font-bold py-4 rounded-xl text-3xl shadow-lg">
                                <span x-text="option"></span>
                            </button>
                        </template>
                    </div>
                </div>

                <!-- Feedback -->
                <div x-show="feedback" x-transition class="mt-6 p-6 rounded-2xl text-center text-xl font-bold"
                     :class="feedbackCorrect ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'">
                    <p x-text="feedback"></p>
                    <button x-show="feedbackCorrect" @click="nextQuestion()" class="mt-4 bg-gradient-to-r from-blue-500 to-purple-500 text-white font-bold py-3 px-6 rounded-full">
                        Pertanyaan Selanjutnya â†’
                    </button>
                </div>
            </div>

            <!-- Finish Screen -->
            <div x-show="finished" x-transition class="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl mx-auto text-center">
                <div class="text-8xl mb-4">ğŸ‰</div>
                <h2 class="text-4xl font-bold text-teal-700 mb-4">Hebat, Adik-adik!</h2>
                <div class="bg-gradient-to-r from-yellow-200 to-orange-200 rounded-2xl p-6 mb-6">
                    <p class="text-3xl font-bold text-orange-700 mb-2">Skor Kamu</p>
                    <p class="text-6xl font-bold text-orange-600"><span x-text="score"></span>/100</p>
                </div>
                <div class="mb-6">
                    <p class="text-xl text-gray-600">
                        <span x-show="score === 100">ğŸŒŸ Sempurna! Kamu jago angka 11-20!</span>
                        <span x-show="score >= 80 && score < 100">â­ Hebat! Terus berlatih ya!</span>
                        <span x-show="score >= 60 && score < 80">ğŸ‘ Bagus! Ayo coba lagi!</span>
                        <span x-show="score < 60">ğŸ’ª Jangan menyerah! Belajar lagi ya!</span>
                    </p>
                </div>
                <div class="space-y-4">
                    <button @click="restart()" class="block w-full bg-gradient-to-r from-green-400 to-green-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg">
                        ğŸ”„ Main Lagi
                    </button>
                    <a href="evaluasi.html" class="block w-full bg-gradient-to-r from-purple-400 to-purple-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg">
                        ğŸ“ Lanjut ke Evaluasi
                    </a>
                    <a href="teori.html" class="block w-full bg-gradient-to-r from-blue-400 to-blue-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg">
                        ğŸ“– Kembali ke Teori
                    </a>
                </div>
            </div>
        </main>

        <footer class="bg-teal-600 text-white py-6 mt-8">
            <div class="container mx-auto px-4 text-center">
                <p class="text-lg">Â© 2026 Bahan Ajar Interaktif - TK-B Matematika</p>
            </div>
        </footer>
    </div>

    <script>
        function latihanAngka() {
            return {
                score: 0, currentQuestion: 1, currentQuestionIndex: 0,
                feedback: '', feedbackCorrect: false, finished: false, answered: false,
                questions: [
                    { type: 'count', emoji: 'ğŸ', count: 12, options: [11, 12, 13, 14], correct: 12 },
                    { type: 'match', number: 15, options: [
                        { emoji: 'â­'.repeat(13), count: 13 },
                        { emoji: 'â­'.repeat(14), count: 14 },
                        { emoji: 'â­'.repeat(15), count: 15 },
                        { emoji: 'â­'.repeat(16), count: 16 }
                    ], correct: 15 },
                    { type: 'sequence', sequence: [11, 12], options: [13, 14, 15], correct: 13 },
                    { type: 'decompose', number: 16, options: [4, 5, 6], correct: 6 },
                    { type: 'count', emoji: 'ğŸŒˆ', count: 18, options: [17, 18, 19, 20], correct: 18 },
                    { type: 'match', number: 20, options: [
                        { emoji: 'ğŸ'.repeat(18), count: 18 },
                        { emoji: 'ğŸ'.repeat(19), count: 19 },
                        { emoji: 'ğŸ'.repeat(20), count: 20 }
                    ], correct: 20 },
                    { type: 'sequence', sequence: [16, 17], options: [18, 19, 20], correct: 18 },
                    { type: 'decompose', number: 14, options: [2, 3, 4], correct: 4 },
                    { type: 'count', emoji: 'ğŸˆ', count: 19, options: [17, 18, 19, 20], correct: 19 },
                    { type: 'decompose', number: 11, options: [0, 1, 2], correct: 1 }
                ],
                checkAnswer(answer) {
                    if (this.answered) return;
                    this.answered = true;
                    const currentQ = this.questions[this.currentQuestionIndex];
                    if (answer === currentQ.correct) {
                        this.feedbackCorrect = true; this.score += 10; this.feedback = 'ğŸ‰ Benar! Hebat!';
                        for (let i = 0; i < 30; i++) {
                            const confetti = document.createElement('div');
                            confetti.className = 'confetti';
                            confetti.style.left = Math.random() * 100 + 'vw';
                            confetti.style.backgroundColor = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8'][Math.floor(Math.random() * 5)];
                            document.body.appendChild(confetti);
                            setTimeout(() => confetti.remove(), 3000);
                        }
                    } else {
                        this.feedbackCorrect = false; this.feedback = 'ğŸ˜… Jawaban benar: ' + currentQ.correct;
                        setTimeout(() => this.nextQuestion(), 2000);
                    }
                },
                nextQuestion() {
                    this.currentQuestionIndex++; this.currentQuestion++; this.feedback = ''; this.answered = false;
                    if (this.currentQuestionIndex >= this.questions.length) this.finished = true;
                },
                restart() {
                    this.score = 0; this.currentQuestion = 1; this.currentQuestionIndex = 0;
                    this.feedback = ''; this.feedbackCorrect = false; this.finished = false; this.answered = false;
                    this.questions.sort(() => Math.random() - 0.5);
                }
            }
        }
    </script>
</body>
</html>
