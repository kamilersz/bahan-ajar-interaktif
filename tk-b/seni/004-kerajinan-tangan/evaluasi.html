<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Evaluasi Kerajinan Tangan - TK-B Seni</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script defer src="https://cdn.jsdelivr.net/npm/alpinejs@3/dist/cdn.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Comic+Neue:wght@400;700&family=Fredoka+One&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Comic Neue', cursive; }
        .title-font { font-family: 'Fredoka One', cursive; }
        .wiggle { animation: wiggle 1s ease-in-out infinite; }
        @keyframes wiggle { 0%, 100% { transform: rotate(-3deg); } 50% { transform: rotate(3deg); } }
        .confetti { position: fixed; width: 15px; height: 15px; animation: confetti-fall 3s ease-out forwards; }
        @keyframes confetti-fall { 0% { transform: translateY(-100vh) rotate(0deg); opacity: 1; } 100% { transform: translateY(100vh) rotate(720deg); opacity: 0; } }
    </style>
</head>
<body class="bg-gradient-to-br from-orange-100 via-amber-100 to-yellow-100 min-h-screen" x-data="evaluationQuiz()">
    <header class="bg-gradient-to-r from-orange-500 via-amber-500 to-yellow-500 text-white py-6 shadow-lg">
        <div class="container mx-auto px-4 text-center">
            <h1 class="title-font text-4xl md:text-5xl mb-2 wiggle inline-block">ğŸ“ Evaluasi Kerajinan Tangan ğŸ“</h1>
            <p class="text-xl" x-show="!quizCompleted">Ayo Tunjukan Kemampuanmu!</p>
            <p class="text-xl" x-show="quizCompleted">Selesai! Bagus sekali!</p>
        </div>
    </header>

    <main class="container mx-auto px-4 py-8 max-w-4xl">
        <div x-show="!quizCompleted">
            <div class="bg-white rounded-3xl shadow-xl p-6 mb-8 border-4 border-orange-300">
                <div class="flex justify-between items-center mb-3">
                    <span class="title-font text-xl text-orange-600">Progress</span>
                    <span class="title-font text-xl text-orange-600" x-text="`${currentQuestion + 1} dari ${questions.length}`"></span>
                </div>
                <div class="w-full bg-orange-200 rounded-full h-4">
                    <div class="bg-gradient-to-r from-orange-400 to-amber-400 h-4 rounded-full transition-all duration-500"
                         :style="`width: ${((currentQuestion + 1) / questions.length) * 100}%`"></div>
                </div>
            </div>

            <div class="bg-white rounded-3xl shadow-xl p-8 mb-8 border-4 border-amber-300">
                <div class="text-center mb-8">
                    <div class="text-8xl mb-4" x-text="questions[currentQuestion].emoji"></div>
                    <h2 class="title-font text-3xl text-gray-800 mb-2">Pertanyaan <span x-text="currentQuestion + 1"></span></h2>
                    <p class="text-2xl text-gray-700" x-text="questions[currentQuestion].question"></p>
                </div>

                <div class="grid grid-cols-1 gap-4">
                    <template x-for="(option, index) in questions[currentQuestion].options" :key="index">
                        <button @click="selectAnswer(index)"
                                :disabled="quizCompleted"
                                class="p-6 rounded-2xl title-font text-xl shadow-lg transition-all hover:scale-102 text-left"
                                :class="[
                                    answers[currentQuestion] === index ? 'bg-orange-500 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'
                                ]">
                            <span class="font-bold mr-2" x-text="String.fromCharCode(65 + index) + '.'"></span>
                            <span x-text="option"></span>
                        </button>
                    </template>
                </div>
            </div>

            <div class="flex justify-between gap-4">
                <button x-show="currentQuestion > 0" @click="prevQuestion()"
                        class="flex-1 bg-gradient-to-r from-gray-400 to-gray-500 text-white title-font text-xl px-6 py-4 rounded-full shadow-lg">
                    â¬…ï¸ Sebelumnya
                </button>
                <button x-show="currentQuestion < questions.length - 1" @click="nextQuestion()"
                        :disabled="answers[currentQuestion] === undefined"
                        class="flex-1 bg-gradient-to-r from-blue-400 to-blue-600 text-white title-font text-xl px-6 py-4 rounded-full shadow-lg disabled:opacity-50">
                    Lanjut â¡ï¸
                </button>
                <button x-show="currentQuestion === questions.length - 1 && !allAnswered"
                        :disabled="answers[currentQuestion] === undefined"
                        class="flex-1 bg-gradient-to-r from-yellow-400 to-orange-500 text-white title-font text-xl px-6 py-4 rounded-full shadow-lg disabled:opacity-50">
                    ğŸ‘‡ Cek Jawaban
                </button>
            </div>

            <div x-show="showWarning" class="mt-6 bg-red-100 border-4 border-red-400 rounded-2xl p-6 text-center">
                <p class="text-xl text-red-700">âš ï¸ Jawab semua pertanyaan dulu ya!</p>
            </div>
        </div>

        <div x-show="quizCompleted" class="bg-gradient-to-br from-yellow-100 to-orange-100 rounded-3xl shadow-xl p-8 mb-8 border-4 border-yellow-400">
            <div class="text-center">
                <div class="text-9xl mb-4" x-text="scoreEmoji"></div>
                <h2 class="title-font text-4xl text-yellow-700 mb-4">Hasil Evaluasi</h2>
                <div class="bg-white rounded-2xl p-6 mb-6">
                    <p class="title-font text-5xl text-orange-600 mb-2">
                        <span x-text="score"></span> / <span x-text="totalQuestions"></span>
                    </p>
                    <p class="text-2xl text-gray-700">Jawaban Benar</p>
                </div>
                <div class="bg-gradient-to-r from-orange-100 to-amber-100 rounded-2xl p-6 mb-6">
                    <p class="title-font text-3xl text-orange-700 mb-2" x-text="grade"></p>
                    <p class="text-xl text-gray-700" x-text="message"></p>
                </div>
                <div class="space-y-4">
                    <a href="rangkuman.html" class="inline-block bg-gradient-to-r from-green-400 to-green-600 text-white title-font text-2xl px-8 py-4 rounded-full shadow-lg">
                        â¡ï¸ Lihat Rangkuman
                    </a>
                    <br>
                    <button @click="restartQuiz()" class="inline-block bg-gradient-to-r from-orange-400 to-amber-400 text-white title-font text-xl px-6 py-3 rounded-full shadow-lg">
                        ğŸ”„ Ulangi Evaluasi
                    </button>
                </div>
            </div>
        </div>
    </main>

    <footer class="bg-gradient-to-r from-orange-500 via-amber-500 to-yellow-500 text-white py-4 mt-8">
        <div class="container mx-auto px-4 text-center">
            <p class="text-lg">Â© 2026 Bahan Ajar Interaktif - TK-B Seni</p>
        </div>
    </footer>

    <script>
        function evaluationQuiz() {
            return {
                currentQuestion: 0,
                answers: {},
                quizCompleted: false,
                showWarning: false,
                score: 0,
                totalQuestions: 0,
                allAnswered: false,
                questions: [
                    { emoji: 'âœ‚ï¸', question: 'Alat apa yang digunakan untuk menggunting kertas?', correct: 0, options: ['Gunting', 'Pensil', 'Lem', 'Penggaris'] },
                    { emoji: 'ğŸ¦‹', question: 'Kolase adalah kerajinan dengan cara...', correct: 1, options: ['Melipat kertas', 'Menempel potongan kertas', 'Menggambar kertas', 'Mewarnai kertas'] },
                    { emoji: 'ğŸ¦', question: 'Origami adalah seni...', correct: 2, options: ['Menggunting kertas', 'Mewarnai kertas', 'Melipat kertas', 'Menempel kertas'] },
                    { emoji: 'ğŸ', question: 'Untuk membuat kartu ucapan, langkah pertama adalah...', correct: 0, options: ['Lipat kertas menjadi dua', 'Gunting kertas', 'Tempel kertas', 'Warnai kertas'] },
                    { emoji: 'ğŸŒ¸', question: 'Warna apa yang cocok untuk bunga?', correct: 3, options: ['Biru', 'Hijau', 'Abu-abu', 'Merah/Pink'] },
                    { emoji: 'âœˆï¸', question: 'Kerajinan apa yang bisa terbang?', correct: 1, options: ['Kapal kertas', 'Pesawat kertas', 'Topi kertas', 'Kotak kertas'] },
                    { emoji: 'âš ï¸', question: 'Apa yang harus dilakukan saat menggunakan gunting?', correct: 2, options: ['Lari-lari', 'Main-main', 'Hati-hati dan teliti', 'Gunting sembarang'] },
                    { emoji: 'ğŸ§¹', question: 'Setelah membuat kerajinan, apa yang harus dilakukan dengan sampah kertas?', correct: 0, options: ['Bersihkan dan buang di tempat sampah', 'Biarkan begitu saja', 'Simpan di saku', 'Lempar ke luar jendela'] }
                ],
                init() { this.totalQuestions = this.questions.length; },
                selectAnswer(optionIndex) { this.answers[this.currentQuestion] = optionIndex; this.checkAllAnswered(); },
                checkAllAnswered() { this.allAnswered = Object.keys(this.answers).length === this.questions.length; },
                prevQuestion() { if (this.currentQuestion > 0) this.currentQuestion--; },
                nextQuestion() {
                    if (this.answers[this.currentQuestion] === undefined) { this.showWarning = true; setTimeout(() => this.showWarning = false, 2000); return; }
                    if (this.currentQuestion < this.questions.length - 1) { this.currentQuestion++; } else if (this.allAnswered) { this.submitQuiz(); }
                },
                submitQuiz() {
                    this.checkAllAnswered();
                    if (!this.allAnswered) { this.showWarning = true; setTimeout(() => this.showWarning = false, 2000); return; }
                    this.score = 0;
                    this.questions.forEach((q, i) => { if (this.answers[i] === q.correct) this.score++; });
                    this.quizCompleted = true;
                    if (this.score >= this.totalQuestions * 0.8) this.createConfetti();
                },
                restartQuiz() { this.currentQuestion = 0; this.answers = {}; this.quizCompleted = false; this.score = 0; this.allAnswered = false; this.showWarning = false; },
                get scoreEmoji() { const p = this.score / this.totalQuestions; if (p >= 0.9) return 'ğŸ†'; if (p >= 0.7) return 'ğŸŒŸ'; if (p >= 0.5) return 'ğŸ‘'; return 'ğŸ’ª'; },
                get grade() { const p = this.score / this.totalQuestions; if (p >= 0.9) return 'SANGAT BAGUS!'; if (p >= 0.7) return 'BAGUS SEKALI!'; if (p >= 0.5) return 'CUKUP BAGUS!'; return 'TERUS BERLATIH!'; },
                get message() {
                    const p = this.score / this.totalQuestions;
                    if (p >= 0.9) return 'Luar biasa! Adik-adik jago sekali kerajinan tangan! ğŸ‰';
                    if (p >= 0.7) return 'Hebat! Adik-adik sudah paham banyak tentang kerajinan! â­';
                    if (p >= 0.5) return 'Bagus! Terus belajar ya, pasti bisa lebih baik! ğŸ’ª';
                    return 'Jangan menyerah! Coba pelajari lagi materinya! âœ‚ï¸';
                },
                createConfetti() {
                    const colors = ['#ff0000', '#00ff00', '#0000ff', '#ffff00', '#ff00ff', '#00ffff'];
                    for (let i = 0; i < 50; i++) {
                        const confetti = document.createElement('div');
                        confetti.className = 'confetti';
                        confetti.style.left = Math.random() * 100 + 'vw';
                        confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                        confetti.style.animationDelay = Math.random() * 2 + 's';
                        document.body.appendChild(confetti);
                        setTimeout(() => confetti.remove(), 3000);
                    }
                }
            }
        }
    </script>
</body>
</html>
