<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Family Practice - TK-B English</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap");
      body {
        font-family: "Nunito", sans-serif;
      }
      .option-btn {
        transition: all 0.3s ease;
      }
      .option-btn:hover {
        transform: scale(1.05);
      }
      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        animation: fall 3s linear forwards;
      }
      @keyframes fall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-blue-100 via-purple-50 to-pink-100 min-h-screen"
  >
    <div x-data="practiceFamily()">
      <header
        class="bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400 text-white py-6 shadow-lg"
      >
        <div class="container mx-auto px-4 text-center">
          <h1 class="text-3xl md:text-4xl font-bold mb-2">
            ğŸ® Family Practice
          </h1>
          <p class="text-lg">Let's play with family members!</p>
          <div class="mt-3 bg-white/20 rounded-full px-6 py-2 inline-block">
            <span class="font-bold">Score: </span
            ><span
              x-text="score"
              class="font-bold text-yellow-300 text-2xl"
            ></span>
          </div>
        </div>
      </header>
      <main class="container mx-auto px-4 py-8">
        <div class="mb-8">
          <div class="bg-white rounded-full h-6 shadow-lg overflow-hidden">
            <div
              class="bg-gradient-to-r from-blue-400 via-purple-400 to-pink-500 h-full transition-all duration-500 rounded-full flex items-center justify-center text-white font-bold text-sm"
              :style="'width: ' + ((currentQuestion / questions.length) * 100) + '%'"
            >
              <span x-text="currentQuestion + '/' + questions.length"></span>
            </div>
          </div>
        </div>
        <div
          x-show="!finished"
          class="bg-white rounded-3xl shadow-2xl p-8 max-w-3xl mx-auto"
        >
          <h2 class="text-2xl font-bold text-purple-700 mb-6 text-center">
            ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ Who is this?
          </h2>
          <div class="flex justify-center mb-8">
            <div
              class="text-8xl"
              x-text="getFamilyEmoji(questions[currentQuestionIndex].member)"
            ></div>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <template x-for="option in questions[currentQuestionIndex].options"
              ><button
                @click="checkAnswer(option)"
                class="option-btn bg-gradient-to-br from-blue-400 to-purple-500 text-white font-bold py-4 rounded-xl text-3xl shadow-lg"
              >
                <span x-text="option"></span></button
            ></template>
          </div>
          <div
            x-show="feedback"
            x-transition
            class="mt-6 p-6 rounded-2xl text-center text-xl font-bold"
            :class="feedbackCorrect ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'"
          >
            <p x-text="feedback"></p>
            <button
              x-show="feedbackCorrect"
              @click="nextQuestion()"
              class="mt-4 bg-gradient-to-r from-purple-500 to-pink-500 text-white font-bold py-3 px-6 rounded-full"
            >
              Next â†’
            </button>
          </div>
        </div>
        <div
          x-show="finished"
          x-transition
          class="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl mx-auto text-center"
        >
          <div class="text-8xl mb-4">ğŸ‰</div>
          <h2 class="text-4xl font-bold text-purple-700 mb-4">Excellent!</h2>
          <div
            class="bg-gradient-to-r from-blue-200 via-purple-200 to-pink-200 rounded-2xl p-6 mb-6"
          >
            <p class="text-3xl font-bold text-purple-700 mb-2">Score</p>
            <p class="text-6xl font-bold text-purple-600">
              <span x-text="score"></span>/100
            </p>
          </div>
          <div class="space-y-4">
            <button
              @click="restart()"
              class="block w-full bg-gradient-to-r from-purple-400 to-purple-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg"
            >
              ğŸ”„ Play Again</button
            ><a
              href="evaluasi.html"
              class="block w-full bg-gradient-to-r from-purple-400 to-purple-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg"
              >ğŸ“ Evaluation</a
            ><a
              href="teori.html"
              class="block w-full bg-gradient-to-r from-blue-400 to-purple-500 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg"
              >ğŸ“– Theory</a
            >
          </div>
        </div>
      </main>
      <footer class="bg-purple-600 text-white py-6 mt-8">
        <div class="container mx-auto px-4 text-center">
          <p class="text-lg">
            Â© 2025 Interactive Learning Materials - TK-B English
          </p>
        </div>
      </footer>
    </div>
    <script>
      function practiceFamily() {
        return {
          score: 0,
          currentQuestion: 1,
          currentQuestionIndex: 0,
          feedback: "",
          feedbackCorrect: false,
          finished: false,
          answered: false,
          questions: [
            {
              member: "father",
              options: ["Father", "Mother", "Brother", "Sister"],
              correct: "Father",
            },
            {
              member: "mother",
              options: ["Mother", "Father", "Brother", "Sister"],
              correct: "Mother",
            },
            {
              member: "brother",
              options: ["Brother", "Father", "Sister", "Mother"],
              correct: "Brother",
            },
            {
              member: "sister",
              options: ["Sister", "Father", "Brother", "Mother"],
              correct: "Sister",
            },
            {
              member: "grandfather",
              options: ["Grandfather", "Grandmother", "Father", "Mother"],
              correct: "Grandfather",
            },
            {
              member: "grandmother",
              options: ["Grandmother", "Grandfather", "Father", "Mother"],
              correct: "Grandmother",
            },
            {
              member: "uncle",
              options: ["Uncle", "Aunt", "Father", "Brother"],
              correct: "Uncle",
            },
            {
              member: "aunt",
              options: ["Aunt", "Uncle", "Sister", "Mother"],
              correct: "Aunt",
            },
          ],
          getFamilyEmoji(member) {
            const emojis = {
              father: "ğŸ‘¨",
              mother: "ğŸ‘©",
              brother: "ğŸ‘¦",
              sister: "ğŸ‘§",
              grandfather: "ğŸ‘´",
              grandmother: "ğŸ‘µ",
              uncle: "ğŸ‘¨",
              aunt: "ğŸ‘©",
            };
            return emojis[member] || "ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦";
          },
          checkAnswer(answer) {
            if (this.answered) return;
            this.answered = true;
            const currentQ = this.questions[this.currentQuestionIndex];
            if (answer === currentQ.correct) {
              this.feedbackCorrect = true;
              this.score += 10;
              this.feedback =
                "ğŸ‰ Correct! This is my " +
                currentQ.member +
                "! My " +
                currentQ.member +
                " loves me!";
              for (let i = 0; i < 30; i++) {
                const confetti = document.createElement("div");
                confetti.className = "confetti";
                confetti.style.left = Math.random() * 100 + "vw";
                confetti.style.backgroundColor = [
                  "#3B82F6",
                  "#8B5CF6",
                  "#EC4899",
                  "#F59E0B",
                  "#10B981",
                ][Math.floor(Math.random() * 5)];
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
              }
            } else {
              this.feedbackCorrect = false;
              this.feedback =
                "ğŸ˜… This is my " +
                currentQ.member +
                "! My " +
                currentQ.member +
                " loves me!";
              setTimeout(() => this.nextQuestion(), 2000);
            }
          },
          nextQuestion() {
            this.currentQuestionIndex++;
            this.currentQuestion++;
            this.feedback = "";
            this.answered = false;
            if (this.currentQuestionIndex >= this.questions.length)
              this.finished = true;
          },
          restart() {
            this.score = 0;
            this.currentQuestion = 1;
            this.currentQuestionIndex = 0;
            this.feedback = "";
            this.feedbackCorrect = false;
            this.finished = false;
            this.answered = false;
            this.questions.sort(() => Math.random() - 0.5);
          },
        };
      }
    </script>
  </body>
</html>
