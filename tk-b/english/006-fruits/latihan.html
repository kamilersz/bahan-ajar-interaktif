<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fruits Practice - TK-B English</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      defer
      src="https://cdn.jsdelivr.net/npm/alpinejs@3.x.x/dist/cdn.min.js"
    ></script>
    <style>
      @import url("https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;700;800&display=swap");
      body {
        font-family: "Nunito", sans-serif;
      }
      .option-btn {
        transition: all 0.3s ease;
      }
      .option-btn:hover {
        transform: scale(1.05);
      }
      .confetti {
        position: fixed;
        width: 10px;
        height: 10px;
        animation: fall 3s linear forwards;
      }
      @keyframes fall {
        0% {
          transform: translateY(-100vh) rotate(0deg);
          opacity: 1;
        }
        100% {
          transform: translateY(100vh) rotate(720deg);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body
    class="bg-gradient-to-br from-red-100 via-pink-50 via-yellow-50 to-orange-100 min-h-screen"
  >
    <div x-data="practiceFruits()">
      <header
        class="bg-gradient-to-r from-red-400 via-pink-400 via-yellow-400 to-orange-400 text-white py-6 shadow-lg"
      >
        <div class="container mx-auto px-4 text-center">
          <h1 class="text-3xl md:text-4xl font-bold mb-2">
            ğŸ® Fruits Practice
          </h1>
          <p class="text-lg">Let's play with fruits!</p>
          <div class="mt-3 bg-white/20 rounded-full px-6 py-2 inline-block">
            <span class="font-bold">Score: </span
            ><span
              x-text="score"
              class="font-bold text-yellow-300 text-2xl"
            ></span>
          </div>
        </div>
      </header>
      <main class="container mx-auto px-4 py-8">
        <div class="mb-8">
          <div class="bg-white rounded-full h-6 shadow-lg overflow-hidden">
            <div
              class="bg-gradient-to-r from-red-400 via-yellow-400 to-orange-500 h-full transition-all duration-500 rounded-full flex items-center justify-center text-white font-bold text-sm"
              :style="'width: ' + ((currentQuestion / questions.length) * 100) + '%'"
            >
              <span x-text="currentQuestion + '/' + questions.length"></span>
            </div>
          </div>
        </div>
        <div
          x-show="!finished"
          class="bg-white rounded-3xl shadow-2xl p-8 max-w-3xl mx-auto"
        >
          <h2 class="text-2xl font-bold text-orange-700 mb-6 text-center">
            ğŸ What fruit is this?
          </h2>
          <div class="flex justify-center mb-8">
            <div
              class="text-9xl"
              x-text="getFruitEmoji(questions[currentQuestionIndex].fruit)"
            ></div>
          </div>
          <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
            <template x-for="option in questions[currentQuestionIndex].options"
              ><button
                @click="checkAnswer(option)"
                class="option-btn bg-gradient-to-br from-red-400 to-orange-500 text-white font-bold py-4 rounded-xl text-3xl shadow-lg"
              >
                <span x-text="option"></span></button
            ></template>
          </div>
          <div
            x-show="feedback"
            x-transition
            class="mt-6 p-6 rounded-2xl text-center text-xl font-bold"
            :class="feedbackCorrect ? 'bg-green-100 text-green-700' : 'bg-red-100 text-red-700'"
          >
            <p x-text="feedback"></p>
            <button
              x-show="feedbackCorrect"
              @click="nextQuestion()"
              class="mt-4 bg-gradient-to-r from-red-500 to-orange-500 text-white font-bold py-3 px-6 rounded-full"
            >
              Next â†’
            </button>
          </div>
        </div>
        <div
          x-show="finished"
          x-transition
          class="bg-white rounded-3xl shadow-2xl p-8 max-w-2xl mx-auto text-center"
        >
          <div class="text-8xl mb-4">ğŸ‰</div>
          <h2 class="text-4xl font-bold text-orange-700 mb-4">Excellent!</h2>
          <div
            class="bg-gradient-to-r from-red-200 via-pink-200 to-orange-200 rounded-2xl p-6 mb-6"
          >
            <p class="text-3xl font-bold text-orange-700 mb-2">Score</p>
            <p class="text-6xl font-bold text-orange-600">
              <span x-text="score"></span>/100
            </p>
          </div>
          <div class="space-y-4">
            <button
              @click="restart()"
              class="block w-full bg-gradient-to-r from-orange-400 to-orange-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg"
            >
              ğŸ”„ Play Again</button
            ><a
              href="evaluasi.html"
              class="block w-full bg-gradient-to-r from-purple-400 to-purple-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg"
              >ğŸ“ Evaluation</a
            ><a
              href="teori.html"
              class="block w-full bg-gradient-to-r from-pink-400 to-pink-600 text-white font-bold py-4 px-8 rounded-full text-xl shadow-lg"
              >ğŸ“– Theory</a
            >
          </div>
        </div>
      </main>
      <footer class="bg-orange-600 text-white py-6 mt-8">
        <div class="container mx-auto px-4 text-center">
          <p class="text-lg">
            Â© 2025 Interactive Learning Materials - TK-B English
          </p>
        </div>
      </footer>
    </div>
    <script>
      function practiceFruits() {
        return {
          score: 0,
          currentQuestion: 1,
          currentQuestionIndex: 0,
          feedback: "",
          feedbackCorrect: false,
          finished: false,
          answered: false,
          questions: [
            {
              fruit: "apple",
              options: ["Apple", "Orange", "Banana", "Grape"],
              correct: "Apple",
            },
            {
              fruit: "orange",
              options: ["Orange", "Apple", "Banana", "Grape"],
              correct: "Orange",
            },
            {
              fruit: "banana",
              options: ["Banana", "Apple", "Orange", "Grape"],
              correct: "Banana",
            },
            {
              fruit: "grape",
              options: ["Grape", "Apple", "Orange", "Banana"],
              correct: "Grape",
            },
            {
              fruit: "watermelon",
              options: ["Watermelon", "Apple", "Orange", "Banana"],
              correct: "Watermelon",
            },
            {
              fruit: "strawberry",
              options: ["Strawberry", "Apple", "Orange", "Banana"],
              correct: "Strawberry",
            },
            {
              fruit: "mango",
              options: ["Mango", "Apple", "Orange", "Banana"],
              correct: "Mango",
            },
            {
              fruit: "pineapple",
              options: ["Pineapple", "Apple", "Orange", "Banana"],
              correct: "Pineapple",
            },
          ],
          getFruitEmoji(fruit) {
            const emojis = {
              apple: "ğŸ",
              orange: "ğŸŠ",
              banana: "ğŸŒ",
              grape: "ğŸ‡",
              watermelon: "ğŸ‰",
              strawberry: "ğŸ“",
              mango: "ğŸ¥­",
              pineapple: "ğŸ",
            };
            return emojis[fruit] || "ğŸ";
          },
          checkAnswer(answer) {
            if (this.answered) return;
            this.answered = true;
            const currentQ = this.questions[this.currentQuestionIndex];
            if (answer === currentQ.correct) {
              this.feedbackCorrect = true;
              this.score += 10;
              this.feedback =
                "ğŸ‰ Correct! This is a " +
                currentQ.fruit +
                "! It is sweet and healthy!";
              for (let i = 0; i < 30; i++) {
                const confetti = document.createElement("div");
                confetti.className = "confetti";
                confetti.style.left = Math.random() * 100 + "vw";
                confetti.style.backgroundColor = [
                  "#EF4444",
                  "#EC4899",
                  "#F59E0B",
                  "#10B981",
                  "#8B5CF6",
                ][Math.floor(Math.random() * 5)];
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3000);
              }
            } else {
              this.feedbackCorrect = false;
              this.feedback =
                "ğŸ˜… This is a " + currentQ.fruit + "! It is sweet and healthy!";
              setTimeout(() => this.nextQuestion(), 2000);
            }
          },
          nextQuestion() {
            this.currentQuestionIndex++;
            this.currentQuestion++;
            this.feedback = "";
            this.answered = false;
            if (this.currentQuestionIndex >= this.questions.length)
              this.finished = true;
          },
          restart() {
            this.score = 0;
            this.currentQuestion = 1;
            this.currentQuestionIndex = 0;
            this.feedback = "";
            this.feedbackCorrect = false;
            this.finished = false;
            this.answered = false;
            this.questions.sort(() => Math.random() - 0.5);
          },
        };
      }
    </script>
  </body>
</html>
